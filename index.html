<!DOCTYPE html>
<hmtl lang="de">
    <head>
        <title>Domainchange</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <link href="./plugins/css/main.css" rel="stylesheet">
    </head>
    <body>
        <p><font size='5'>UC<i><b>tools<font color='#45D32A'>!</font></b></i></font><span class="headlineSpan">Hier werden die SWS-Email-Adressen in den Kontakten der Kunden gesucht</span></p>
                
        <label>Firma:</label>
<!-- Das Select muss mit den verschiedenen Firmen gefüllt werden -->
        <select>
            <option>Bitte ausw&auml;hlen...</option>
            <option>Xing</option>
            <option>N&uuml;rnberg Nachrichten</option>
        </select>

<!-- In dem result-DIV wird das Ergebnis der Suche angezeigt -->
        <div class="result" id="firmaListe">
            <ul id="liste">
                <li>test@test.de</li>
                <li>test1@test.de</li>
                <li>test2@test.de</li>
            </ul>
        </div>

        <button id="addBtn" class="btn">hinzufügen zur Gesamtliste</button>

<!-- In dem allResult-DIV werden alle hinzugefügten eMail-Adressen angezeigt -->
        <div class="allResult" id="gesamtListe">
            
        </div>

        <button class="btn">Exportieren der Gesamtliste</button>
        
        <script src="https://code.jquery.com/jquery-3.1.1.js" integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA=" crossorigin="anonymous"></script>
        <script>
            $(document).ready(function(){
// Speichern alle <li> Elemente der firmaListe in das array texte
                var div = document.getElementById('firmaListe');
                var uls = div.getElementsByTagName('ul');
                for(var j = 0; j < uls.length; j++){
                    var ul = uls[j];
                    //var ul = uls[(uls.length - 1)];
                    var li = ul.getElementsByTagName('li');
                    texte = new Array ();
                    for (var i = 0; i < li.length; i++)
                    {
                        texte.push (li[i].firstChild.data);
                    } 
                }    

            });

// Erstellung der Liste (<ul>) und der Listeelemente (<li>). Zusätzlich wird jeden indexeintrag aus dem array texte einem <li> hinzugefügt.
// Anschließend wird alles in gesamtListe ausgegeben
            $('#addBtn').click(function(){
                var listAusgabe = document.createElement('ul');

                for(var i = 0; i < texte.length; i++){
                    var item = document.createElement('li');
                    item.appendChild(document.createTextNode(texte[i]));
                    listAusgabe.appendChild(item);
                }              

                $('#gesamtListe').html(listAusgabe);
            });
        </script>
    </body>
</hmtl>