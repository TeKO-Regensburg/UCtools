<!DOCTYPE html>
<hmtl lang="de">
    <head>
        <title>Domainchange</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <link href="./plugins/css/main.css" rel="stylesheet">
    </head>
    <body>
        <p><font size='5'>UC<i><b>tools<font color='#45D32A'>!</font></b></i></font><span class="headlineSpan">Hier werden die SWS-Email-Adressen in den Kontakten der Kunden gesucht</span></p>
                
        <label>Mitarbeiter:</label>
<!-- Das Select muss mit den verschiedenen Mitarbeitern gefüllt werden -->
        <select autofocus onchange="objErstellen(this.value);">
            <option value="std">Bitte ausw&auml;hlen...</option>
            <option value="kupke">Kupke</option>
            <option value="dornheim">Dornheim</option>
        </select>

<!-- In dem result-DIV wird das Ergebnis der Suche und in dem resultSWS-DIV werden die internen angezeigt-->
        <div class="result"></div>
        <div class="resultSWS"></div>

        <button type="button" id="exportierenBtn" class="btn">exportieren</button>

        
        <script src="https://code.jquery.com/jquery-3.1.1.js" integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA=" crossorigin="anonymous"></script>
        <script>
            var contactList = [];
            function objErstellen(name){
                switch(name){
                    case 'kupke':
                        contactList = ['info@xing.de','test@nn.de','tor@swsnet.de','doe@waterfalls.de','held@wiewir.com','das@gibts.net','fcn@fcn.de','hammer@airport-nuernberg.de','kupfer@stadt.nuernberg.de','schneider@kdg.de','tec@tec.info','dornheim@swsnet.de'];
                    break;
                    case 'dornheim':
                        contactList = ['kupke@swsnet.de','john@waterfalls.de','info@facebook.com','wander@vogel.de','vogel@swsnet.de']; 
                    break;
                    default: contactList = [];
                }
                var obj = {lastName: name, contacts: contactList};
                auswahlEinstellen(obj);
            }

            function auswahlEinstellen(obj){
                var tempArray = [];
                var tempArray2 = [];

                        for(var l in obj.contacts){
                            if(obj.contacts[l].match(/@swsnet.de/gi)){
                                tempArray2.push(obj.contacts[l]);
                            }
                            else{
                                tempArray.push(obj.contacts[l]);
                            }
                        }
                        listeAnzeigen(tempArray, tempArray2);                      
            }

// Erstellung der Liste (<ul>) und der Listeelemente (<li>). Zusätzlich wird jeden indexeintrag aus dem array texte einem <li> hinzugefügt.
// Anschließend wird alles in gesamtListe ausgegeben
            function listeAnzeigen(list, list2){
                listAusgabe = document.createElement('ul');
                listAusgabe2 = document.createElement('ul');

                for(var i = 0; i < list.length; i++){
                    var item = document.createElement('li');
                    item.appendChild(document.createTextNode(list[i]));
                    listAusgabe.appendChild(item);
                }     
                for(var i = 0; i < list2.length; i++){
                    var item = document.createElement('li');
                    item.appendChild(document.createTextNode(list2[i]));
                    listAusgabe2.appendChild(item);
                }             
                $('.result').html(listAusgabe);
                $('.resultSWS').html(listAusgabe2);
            };
        </script>
    </body>
</hmtl>